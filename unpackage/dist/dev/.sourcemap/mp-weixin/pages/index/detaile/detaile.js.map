{"version":3,"sources":["uni-app:///main.js","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?241d","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?cf33","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?0814","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?01f2","uni-app:///pages/index/detaile/detaile.vue","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?b70e","webpack:///E:/vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue?0c8a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC4M;AAC5M,gBAAgB,gNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAizB,CAAgB,gyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmJr0B;;;;AAIA,yD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA,EACA,IADA,kBACA,CACA,SACA,eACA,KADA,EAEA,aAFA,EAGA,uEAHA,IAIA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EAJA,EAQA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EARA,EAYA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EAZA,EAgBA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EAhBA,EAoBA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EApBA,EAwBA,EACA,KADA,EAEA,aAFA,EAGA,uEAHA,EAxBA,CADA,EA8BA,SA9BA,EA+BA,QA/BA,EAgCA,UAhCA,EAiCA,WAjCA,EAkCA,YAlCA,GAoCA,CAtCA,EAuCA,2BACA,wBACA,CAzCA,EA0CA,4BACA,iBACA,kBACA,YADA,EAEA,UAFA,IAIA,2DACA,sBACA,6BACA,4BAHA,CAIA;AACA,kDACA,wBACA,wDACA,CAFA,MAEA,CACA,wBACA,+BACA,sCACA,CAHA,MAGA,CACA,mBACA,wCACA,qBACA,oCACA,sBACA,CACA,6BACA,2CACA,CACA,CACA,kBACA,CAxBA,EAyBA,CAzEA,EA0EA,qCACA;AACA,mBACA,CA7EA,EA8EA,+BACA;AACA,mBACA,CAjFA,EAkFA,WACA,SADA,qBACA,EADA,EACA,CACA,iBACA,yBACA,CAJA,EAKA,+CACA,2CACA,8BACA,CARA,EASA,+CACA,gBACA,uBADA,IAGA,CAbA,EAcA,6CACA;AACA;AACA,iDACA,yBACA;AACA,iEACA,QADA,MAGA,gCACA,CANA,MAMA,CACA;AACA,0BACA,wCACA,oBACA,+BACA,MACA,CAFA,MAEA,CACA,oBACA,CACA,CACA,uCACA,QADA,KAGA,yCACA,gCACA,CACA,wBACA,CA1CA,EAlFA,E;;;;;;;;;;;;;AC1JA;AAAA;AAAA;AAAA;AAAspC,CAAgB,2lCAAG,EAAC,C;;;;;;;;;;;ACA1qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/detaile/detaile.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/detaile/detaile.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detaile.vue?vue&type=template&id=7b03ba26&\"\nvar renderjs\nimport script from \"./detaile.vue?vue&type=script&lang=js&\"\nexport * from \"./detaile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detaile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"vue/uniapp/uniapp-shop/pages/index/detaile/detaile.vue\"\nexport default component.exports","export * from \"-!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detaile.vue?vue&type=template&id=7b03ba26&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.winner.participants, function(item, index) {\n    var m0 = _vm.$time(item.createdAt)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detaile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detaile.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view>\r\n\t\t\t<swiper class=\"screen-swiper round-dot\" :indicator-dots=\"true\" :circular=\"true\" :autoplay=\"true\" interval=\"5000\"\r\n\t\t\t style=\"height: 792upx;\" duration=\"500\">\r\n\t\t\t\t<swiper-item v-for=\"(item,index) in data.picture_banner\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"item[0]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<video :src=\"item[0]\" autoplay loop muted :show-play-btn=\"false\" :controls=\"false\" objectFit=\"cover\"></video>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t<view class=\"title_box\">\r\n\t\t\t<view class=\"title_pro text-df\">{{data.title}}</view>\r\n\t\t\t<view class=\"text-sm text-gray\" style=\"margin-bottom: 15upx;\">\r\n\t\t\t\t价值：<text class=\"text-price text-df text-red\">{{data.price}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-progress round sm\">\r\n\t\t\t\t<view class=\"bg-yellow\" :style=\"{width:(data.already_participation/data.total_participation)*100+'%'}\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex justify-between text-sm text-gray\">\r\n\t\t\t\t<view class=\"text-orange\">{{data.already_participation}}</view>\r\n\t\t\t\t<view class=\"\">{{data.total_participation}}</view>\r\n\t\t\t\t<view class=\"text-blue\">{{data.total_participation - data.already_participation}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex justify-between text-sm text-gray\">\r\n\t\t\t\t<view class=\"\">已参与</view>\r\n\t\t\t\t<view class=\"\">总需参与</view>\r\n\t\t\t\t<view class=\"\">剩余</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"flex justify-between margin-top bg-gray\" style=\"align-items: center;padding: 15upx;\">\r\n\t\t\t<view>\r\n\t\t\t\t<text style=\"color: red;\" class=\"lg text-gray cuIcon-roundcheck text-red\"></text>100%公平\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<text style=\"color: red;\" class=\"lg text-gray cuIcon-roundcheck text-red\"></text>100%正品保证\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<text style=\"color: red;\" class=\"lg text-gray cuIcon-roundcheck text-red\"></text>全国免费配送\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"padding text-center text-sm text-gray solid-bottom\" style=\"border-bottom: 15upx solid #eeeeee;\">\r\n\t\t\t你还未登陆哦，请登录后查看吧\r\n\t\t</view>\r\n\t\t<view class=\"cu-list menu\" style=\"border-bottom: 15upx solid #eeeeee;\">\r\n\r\n\t\t\t<view class=\"cu-item arrow border-bottom\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text class=\"text-black\">图文详情</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-item arrow border-bottom\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text class=\"text-black\">商品晒单（2）</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t\t<view>\r\n\t\t\t<scroll-view scroll-x class=\"bg-white nav solid-bottom\">\r\n\t\t\t\t<view class=\"flex text-center\">\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" :class=\"index==TabCur?'text-orange cur':''\" v-for=\"(item,index) in 2\" :key=\"index\"\r\n\t\t\t\t\t @click=\"tabSelect(index)\" :data-id=\"index\">\r\n\t\t\t\t\t\t{{index === 0 ? '抽奖记录' : '历史中奖者'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"\" style=\"min-height: 1000upx;margin-bottom: 100upx;\">\r\n\t\t\t\t<view v-show=\"TabCur === 0\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar\" v-if=\"winner\">\r\n\r\n\t\t\t\t\t\t<view class=\"cu-item\" v-for=\"(item, index) in winner.participants\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar round lg\" style=\"overflow: hidden;\">\r\n\t\t\t\t\t\t\t\t<image style=\"width: 100%;height: 100%;\" :src=\"item.avatars\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-black\">{{item.nickname}}<text class=\"text-gray\">({{item.city}})</text></view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">{{$time(item.createdAt)}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t<view class=\"lg text-gray cuIcon-right\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<viwe style=\"\r\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmargin-top: 30px;\"\r\n\t\t\t\t\tv-if=\"!winner\">暂无信息哦~</viwe>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-show=\"TabCur === 1\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar\">\r\n\r\n\t\t\t\t\t\t<view class=\"cu-item\" v-for=\"index in 6\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"text-black\">\r\n\t\t\t\t\t\t\t\t第120{{index}}期\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar round lg\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg);\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-black\">中奖者: 我就是阿萨</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">\r\n\t\t\t\t\t\t\t\t\t\t本期参与： <text class=\"text-orange\">13</text> 人次\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">\r\n\t\t\t\t\t\t\t\t\t\t中将号码：<text class=\"text-orange\">100003</text> 人次\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 底部购买按钮 -->\r\n\t\t<view class=\"shopbtn solid-top\">\r\n\t\t\t<view class=\"cu-bar bg-white tabbar border shop\">\r\n\t\t\t\t<button class=\"action\" open-type=\"contact\">\r\n\t\t\t\t\t<view class=\"cuIcon-service text-green\">\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t客服\r\n\t\t\t\t</button>\r\n\t\t\t\t<view class=\"action\" @click=\"handleGoPageCart\">\r\n\t\t\t\t\t<view class=\"cuIcon-cart\">\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"cartCount !== 0\">{{cartCount}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t购物车\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bg-orange submit\" @click=\"handleAddCart([data])\">加入购物车</view>\r\n\t\t\t\t<view class=\"bg-red submit\">立即订购</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGetProductDetaile,\r\n\t\tGetProductBasics\r\n\t} from '@/api/product.js'\r\n\timport {\r\n\t\tForMat\r\n\t} from '@/utils/day.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tswiperList: [{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big37006.jpg',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big39000.jpg'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big25011.jpg'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big21016.jpg'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 6,\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big99008.jpg'\r\n\t\t\t\t}],\r\n\t\t\t\tTabCur: 0,\r\n\t\t\t\tdata: {},\r\n\t\t\t\twinner: {},\r\n\t\t\t\thistory: [],\r\n\t\t\t\tcartCount: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tthis.handleWatchCount()\r\n\t\t},\r\n\t\tonLoad: function(e) {\r\n\t\t\tlet _this = this\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中',\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\t\t\tGetProductDetaile(e.id).then(res => {\r\n\t\t\t\t_this.data = res.data\r\n\t\t\t\t_this.winner = res.winner[0]\r\n\t\t\t\t_this.history = res.history\r\n\t\t\t\t// 获取本地足迹\r\n\t\t\t\tconst value = uni.getStorageSync('footprint');\r\n\t\t\t\tif (value.length == 0) {\r\n\t\t\t\t\tuni.setStorageSync('footprint', [String(res.data._id)]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (value.length > 20) {\r\n\t\t\t\t\t\tvar item = value.splice(0, 11);\r\n\t\t\t\t\t\tuni.setStorageSync('footprint', item);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet ArrayFoot = []\r\n\t\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\t\tlet item = value[i]\r\n\t\t\t\t\t\t\tif (item == res.data._id) continue;\r\n\t\t\t\t\t\t\tArrayFoot.push(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tArrayFoot.push(res.data._id)\r\n\t\t\t\t\t\tuni.setStorageSync('footprint', ArrayFoot);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t})\r\n\t\t},\r\n\t\tonBackPress: function() {\r\n\t\t\t// 页面返回清空商品详情防止下次数据没请求过来前闪屏\r\n\t\t\tthis.data = []\r\n\t\t},\r\n\t\tonUnload: function() {\r\n\t\t\t// 页面返回清空商品详情防止下次数据没请求过来前闪屏\r\n\t\t\tthis.data = []\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttabSelect(id) {\r\n\t\t\t\tthis.TabCur = id;\r\n\t\t\t\tconsole.log(this.TabCur)\r\n\t\t\t},\r\n\t\t\thandleWatchCount: function(){\r\n\t\t\t\tconst value = uni.getStorageSync('cartData');\r\n\t\t\t\tthis.cartCount = value.length\r\n\t\t\t},\r\n\t\t\thandleGoPageCart: function() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/cart/cart'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleAddCart: function(data) {\r\n\t\t\t\t// data[0] // <----商品的对象\r\n\t\t\t\t// 加入本地缓存\r\n\t\t\t\tconst value = uni.getStorageSync('cartData');\r\n\t\t\t\tif (value.length === 0) {\r\n\t\t\t\t\t// 购物车里没东西\r\n\t\t\t\t\tuni.setStorageSync('cartData', [Object.assign(data[0], {\r\n\t\t\t\t\t\tcount: 1\r\n\t\t\t\t\t})]);\r\n\t\t\t\t\tthis.$queue.showToast('已加入购物车')\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 购物车有东西\r\n\t\t\t\t\tlet ArrayPro = []\r\n\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tconst item = value[i]\r\n\t\t\t\t\t\tif (item._id === data[0]._id) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tArrayPro.push(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tArrayPro.push(Object.assign(data[0], {\r\n\t\t\t\t\t\tcount: 1\r\n\t\t\t\t\t}))\r\n\t\t\t\t\tuni.setStorageSync('cartData', ArrayPro);\r\n\t\t\t\t\tthis.$queue.showToast('已加入购物车')\r\n\t\t\t\t}\r\n\t\t\t\tthis.handleWatchCount()\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.title_box {\r\n\t\tpadding: 10upx;\r\n\t}\r\n\r\n\t.title_pro {\r\n\t\tdisplay: block;\r\n\t\tline-height: 1.5;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: normal;\r\n\t\tmin-height: 90upx;\r\n\t}\r\n\r\n\t.shopbtn {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detaile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detaile.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595906509005\n      var cssReload = require(\"E:/edit/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}